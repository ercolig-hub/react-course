(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{107:function(t,e,s){},112:function(t,e,s){},115:function(t,e,s){"use strict";s(3);var a=s(0),o=s.n(a);s(51);o.a.Component},141:function(t,e,s){"use strict";s(3);var a=s(0),o=s.n(a);s(13);o.a.Component},143:function(t,e,s){"use strict";s.r(e);var a=s(3),o=(s(0),s(33)),i=s.n(o),n=(s(107),s(69));var r=t=>{t&&t instanceof Function&&s.e(3).then(s.bind(null,200)).then((e=>{let{getCLS:s,getFID:a,getFCP:o,getLCP:i,getTTFB:n}=e;s(t),a(t),o(t),i(t),n(t)}))};i.a.render(Object(a.jsx)(n.a,{}),document.getElementById("root")),r()},51:function(t,e,s){"use strict";var a=s(3),o=s(0),i=s.n(o);class n extends i.a.Component{constructor(){super(),this.state={color:"red"}}render(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["I am a ",this.state.color," Car!"]}),Object(a.jsxs)("p",{children:["I am a ",this.props.test," Car2!"]})]})}}e.a=n},69:function(t,e,s){"use strict";(function(t){var a=s(3),o=s(0),i=s.n(o),n=(s(112),s(70)),r=s.n(n),l=(s(51),s(115),s(71)),h=(s(141),s(13)),c=s.n(h),d=(s(52),s(67),s(82)),m=s.n(d),u=s(83),g=s(26),y=s.n(g);u.a.getService();m()(c.a,(t=>c.a.post("https://mth-cms-meth01-tom-dv2:31501/restAPI/rest/auth/login").then((e=>(localStorage.setItem("token",e.data.token),t.response.config.headers.Authorization="Bearer "+e.data.token,Promise.resolve())))));class p extends i.a.Component{constructor(e){super(e),this.myChangeHandler=t=>{console.log(t.target.value),this.setState({queryname:t.target.value})},this.myChangeHandlerCodeQuery=t=>{console.log(t.target.value),this.setState({CodeQuery:t.target.value})},this.handleSubmit=t=>{console.log(t),t.preventDefault(),this.setState({isLoading:!0,autonomyLoading:!0}),this.Authonomy(),this.getAppTokenElastic(),this.Elastic()},this.handleSubmitTry=t=>{console.log(t),t.preventDefault(),this.Try()},this.Try=()=>{console.log("Try");let t=this.state.CodeQuery;console.log(t);const e=localStorage.getItem("token"),s=localStorage.getItem("tokenElastic");c.a.post("https://mth-cms-meth01-tom-dv2:31501/restAPI/rest/query/try?from=0&limit=10000&info=true&header=true&token="+e,t,{headers:{"Content-Type":"text/plain"}}).then((t=>{t.data.size;this.setState({trysize:t.data.size})})).catch((t=>{alert("ERROR")})),c.a.post(" https://vtommeth01-cms-dv-01.ad.moodys.net:3428/restAPI/rest/query/try?from=0&limit=10000&info=true&header=true&token="+s,t,{headers:{"Content-Type":"text/plain"}}).then((t=>{t.data.size;this.setState({trysizeElastic:t.data.size})})).catch((t=>{alert("ERROR")}))},this.Authonomy=()=>{c.a.interceptors.request.use((t=>t)),c.a.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)}));const t=localStorage.getItem("token");let e=encodeURI(this.state.CodeQuery);c.a.get("https://mth-cms-meth01-tom-dv2:31501/restAPI/rest/query/list?token="+t+"&info=true&limit=20000&from=&activate=true&evaluatePrefill=true&showXml=false&showMetadata=true&query="+e).then((t=>{const e=t.data.data.main.items;this.setState({data2:e}),console.log(e)})).then((()=>{this.setState({autonomyLoading:!1})})).catch((t=>{}))},this.Elastic=()=>{const t=localStorage.getItem("tokenElastic");let e=encodeURI(this.state.CodeQuery);c.a.get("https://vtommeth01-cms-dv-01.ad.moodys.net:3428/restAPI/rest/query/list?token="+t+"&info=true&limit=20000&from=&activate=true&evaluatePrefill=true&showXml=false&showMetadata=true&query="+e).then((t=>{const e=t.data.data.main.items;this.setState({data3:e}),console.log(e)})).then((()=>{this.setState({ElasticLoading:!1})})).catch((t=>{}))},this.getAppToken=async()=>{c()({method:"post",url:"https://mth-cms-meth01-tom-dv2:31501/restAPI/rest/auth/login",data:r.a.stringify({connectionId:"meth01",username:"longd",pwd:"",applicationId:"test",format:"json"}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((t=>{const e=t;console.log(e.data.token),localStorage.setItem("token",e.data.token)}))},this.getAppTokenElastic=async()=>{c()({method:"post",url:"https://vtommeth01-cms-dv-01.ad.moodys.net:3428/restAPI/rest/v3/auth/login",data:{connectionId:"Servlets",username:"longd",pwd:"",applicationId:"giueppe2-template-check",format:"json"},headers:{"Content-Type":"application/json"}}).then((t=>{const e=t;console.log(e.data.result.token.value),localStorage.setItem("tokenElastic",e.data.result.token.value)}))},this.ServiceCall=()=>{const e=JSON.stringify(this.state.data1),s=t.from("".concat("elastic",":").concat("GL9v9U_f47VFz"),"utf8").toString("base64"),a={"Content-Type":"application/json",Authorization:"Basic ".concat(s)};c.a.post("https://ftc-lbcmsrch251.ad.moodys.net:9200/ma@meth01_eomjse1_dv,mis@meth01_eomjse1_dv/_search?size=2000",e,{headers:a}).then((t=>{console.log(t.data.hits.hits),this.setState({dataelastic:t.data.hits.hits,isLoading:!1})}))},this.myComboBoxChangeHandler=(t,e)=>{this.setState({filterValue:e.stringa,Voce:e.key,filterAutonomy:e.stringaautonony})},this.resolveAutonomy=(t,e)=>(console.log(t),e.reduce(((t,e)=>t&&"undefined"!==t[e]?t[e]:void 0),t)),this.state={queryname:"",trysize:"",trysizeElastic:"",data1:{},data2:[],data3:[],dataelastic:[],isLoading:!1,autonomyLoading:!1,ElasticLoading:!1,Voce:"WorkingTitle",filterValue:["attributes","Metadata","Report","WorkingTitle"],filterAutonomy:["attributes","Metadata","Report","WorkingTitle"],CodeQuery:""},this.myChangeHandler=this.myChangeHandler.bind(this),this.myComboBoxChangeHandler=this.myComboBoxChangeHandler.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleSubmitTry=this.handleSubmitTry.bind(this),this.ServiceCall=this.ServiceCall.bind(this),this.getAppToken=this.getAppToken.bind(this),this.getAppTokenElastic=this.getAppTokenElastic.bind(this),this.Authonomy=this.Authonomy.bind(this),this.Elastic=this.Elastic.bind(this),this.resolveAutonomy=this.resolveAutonomy.bind(this),this.myChangeHandlerCodeQuery=this.myChangeHandlerCodeQuery.bind(this)}render(){let t,e="",s="";return t=this.state.autonomyLoading?Object(a.jsx)("li",{children:"Loading"}):this.state.filterAutonomy.includes("WorkingTitle")?this.state.data2.sort(((t,e)=>(new y.a).parseFromString(t.attributes)>(new y.a).parseFromString(e.attributes)?1:-1)).map(((t,s)=>{let o=(new y.a).parseFromString(t.attributes);return console.log(o.getElementsByTagName("WorkingTitle")[0].value),e+=o.getElementsByTagName("WorkingTitle")[0].value+"\n",Object(a.jsx)("li",{className:"list-group-item",children:o.getElementsByTagName("WorkingTitle")[0].value},s)})):this.state.data2.sort(((t,e)=>this.resolveAutonomy(t,this.state.filterAutonomy)>this.resolveAutonomy(e,this.state.filterAutonomy)?1:-1)).map(((t,s)=>(e+=this.resolveAutonomy(t,this.state.filterAutonomy)+"\n",Object(a.jsx)("li",{className:"list-group-item",children:this.resolveAutonomy(t,this.state.filterAutonomy)},s)))),t=this.state.ElasticLoading?Object(a.jsx)("li",{children:"Loading"}):this.state.filterValue.includes("WorkingTitle")?this.state.data3.sort(((t,e)=>(new y.a).parseFromString(t.attributes)>(new y.a).parseFromString(e.attributes)?1:-1)).map(((t,e)=>{let o=(new y.a).parseFromString(t.attributes);return console.log(o.getElementsByTagName("WorkingTitle")[0].value),s+=o.getElementsByTagName("WorkingTitle")[0].value+"\n",Object(a.jsx)("li",{className:"list-group-item",children:o.getElementsByTagName("WorkingTitle")[0].value},e)})):this.state.data3.sort(((t,e)=>this.resolveAutonomy(t,this.state.filterValue)>this.resolveAutonomy(e,this.state.filterValue)?1:-1)).map(((t,e)=>(s+=this.resolveAutonomy(t,this.state.filterValue)+"\n",Object(a.jsx)("li",{className:"list-group-item",children:this.resolveAutonomy(t,this.state.filterValue)},e)))),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"d-flex flex-row",children:[Object(a.jsxs)("div",{className:"p-2",children:[Object(a.jsx)("h1",{children:"Query Search"}),Object(a.jsx)(l.a,{myChangeHandler:this.myChangeHandler,myChangeHandlerCodeQuery:this.myChangeHandlerCodeQuery,myComboBoxChangeHandler:this.myComboBoxChangeHandler,handleSubmit:this.handleSubmit,handleSubmitTry:this.handleSubmitTry,dataelastic:this.state.dataelastic,isLoading:this.state.isLoading,queryname:this.state.queryname,valore:e,valore1:s,filterValue:this.state.filterValue,Voce:this.state.Voce,CodeQuery:this.state.CodeQuery})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"TRY"}),Object(a.jsx)("h2",{children:this.state.trysize})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"TRY ELASTIC"}),Object(a.jsx)("h2",{children:this.state.trysizeElastic})]})]})]})}}e.a=p}).call(this,s(108).Buffer)},71:function(t,e,s){"use strict";var a=s(3),o=s(0),i=s.n(o),n=(s(33),s(13),s(56)),r=(s(67),s(85)),l=s(52),h=s.n(l),c=s(149),d=s(148);class m extends i.a.Component{constructor(t){super(t),this.resolve=(t,e)=>(console.log(t),e.reduce(((t,e)=>t&&"undefined"!==t[e]?t[e]:void 0),t)),this.state={arrayResult:[]},this.resolve=this.resolve.bind(this)}componentDidMount(){}render(){console.log(this.props.dataelastic);return Object(a.jsxs)("div",{children:[Object(a.jsx)(d.a,{placeholder:"Select an option",label:"Basic uncontrolled example",options:[{key:"WorkingTitle",text:"WorkingTitle",stringa:["WorkingTitle"],stringaautonony:["WorkingTitle"]},{key:"Name",text:"Name",stringa:["name"],stringaautonony:["name"]},{key:"id",text:"id",stringa:["id"],stringaautonony:["id"]}],styles:{dropdown:{width:300}},onChange:this.props.myComboBoxChangeHandler,defaultSelectedKey:this.props.Voce}),Object(a.jsxs)("div",{children:[Object(a.jsxs)(n.a,{onSubmit:this.props.handleSubmit,children:[Object(a.jsx)(n.a.Group,{controlId:"formBasicEmail",children:Object(a.jsx)(c.a,{label:"Code Query",name:"query",multiline:!0,autoAdjustHeight:!0,onChange:this.props.myChangeHandlerCodeQuery})}),Object(a.jsx)(r.a,{text:"Submit",type:"submit",name:"ricerca"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(n.a,{onSubmit:this.props.handleSubmitTry,children:Object(a.jsx)(r.a,{text:"Try",type:"submit",name:"try"})})]}),"",Object(a.jsx)("div",{children:Object(a.jsx)("br",{})}),Object(a.jsx)(h.a,{oldValue:this.props.valore1,newValue:this.props.valore,splitView:!0})]})}}e.a=m},83:function(t,e,s){"use strict";s(0),s(13);const a=function(){var t;return{getService:function(){return t||(t=this)},setToken:function(t){localStorage.setItem("access_token",t.access_token),localStorage.setItem("refresh_token",t.refresh_token)},getAccessToken:function(){return localStorage.getItem("access_token")},getRefreshToken:function(){return localStorage.getItem("refresh_token")},clearToken:function(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}}}();e.a=a}},[[143,1,2]]]);
//# sourceMappingURL=main.b44aecec.chunk.js.map